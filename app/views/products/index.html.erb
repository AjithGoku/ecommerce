<!DOCTYPE html>   
<html>  
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
</head>
<body>
<div class="container">
<p id="notice"><%= notice %></p>

<h1>Products</h1>

<table class="table table-striped">
  <thead>
    <tr>   
      <th>Name</th>   
      <th>Price</th>   
      <th>Description</th> 
      <th>Product Category</th>
      <th>Stock Status</th>   
      <th>Discount</th>   
      <th>Actions</th>   
    </tr>  
  </thead>

  <tbody>
    <% @products.each do |product| %>
      <tr>   
            <td><%= product.name %></td>   
            <td><%= product.price %></td>   
            <td><%= truncate(product.description, :length => 75) %></td>
            <td><%= product.product_category.name if product.product_category.present? %></td>
            <td><%= product.stock_status.status if product.stock_status.present? %></td>
            <td><%= product.discount.percentage if product.discount.present? %></td>      
               <div>   
               <td>   
                <%= link_to 'Show', product_path(product) %>  
                <%= link_to 'Edit', edit_product_path(product) %>
                <%= link_to 'Delete', product_path(product), method: :delete, data: { confirm: 'Are you sure?' } %>
              </div>   
            </td>   
          </tr>   
    <% end %>
  </tbody>
</table>

<br>

<%= link_to 'New Product', new_product_path %><br>
<%= link_to 'Product Discounts', discounts_path %><br>
<%= link_to 'Product Categories', product_categories_path %><br>
<%= link_to 'Stock Statuses', stock_statuses_path %>
</div>
</body>
</html>
